<!DOCTYPE html>
<html>
    <head>
        <title>Javascript</title>
        <meta charset="utf-8">
    </head>
    <body>
        <h1>Javascript Test</h1>
        <div id = "test"></div>
        <script>
            // 랜덤값을 생성하는 함수 정의
            function random(min, max) { // 랜덤값을 min에서 max사이의 값을 구하고 싶음
                return Math.floor(Math.random() * (max - min) + 1) + min; //(max - min) + 1 처럼 써줘야 우리가 생각하는 max의 의미를 가짐
            } 
            const test = document.getElementById('test');
            // 랜덤값 처리
            const n = random(3, 145); // random 함수 호출. 랜덤값 하나 가져옴. 0과 1 사이의 소수점 값을 가져옴 Math.floor은 소수점 이하를 없애줌


            // 3~145 사이의 임의의 수 5개를 생성해서 배열에 저장하고 총합을 계산
            // 빈 배열 만들고 반복문 돌면서 랜덤값 구해서 배열에 넣고 total변수 만들어서 총합  계산

            // const a = [];
            // let total = 0;
            // for(i in a) {
            //     a[i] = random(3, 145);
            //     total += a[i];
            // }

            //정답
            const arr = [];
            let total = 0;
            for(let i = 0; i < 5; i++) {
                arr[i] = random(3, 145);
                total += arr[i];
            }


            const value = maxValue(arr); // 배열의 최대값을 받기
            //Arrow function
            const inc = (x) => x + 3;
            const arr2 = arr.map(inc); // map펑션은 배얄의 원소를 차례대로 함수와 매핑시킴 collection 맵과는 전혀 다른 맵임. 관련없음
            // arr의 원소의 숫자만큼 반복하고 그 값들을 가지고있음. map이 리턴(array형식으로)시키는데 그것을 arr2로 받아오는 것임
            arr.forEach(inc); // map은 새로운 배열을 생성. foreach는 함수만 여러번 호출해주는 역할. 뭘 만드는게 아니고 호출만하고 끝남
            //뭘 만들거나 저장해야하면 그 함수 안에서 해야함.

            let output = `<h3>${arr.toString()}</h3>` // 역따옴표 사용. 변수를 사용하기 위해 달러와 중괄호 사용. html코드안에 자바스크립트코드 사용시에는 저처럼 하면 됨
            //toString는 배열의 원소를 문자열로 불러옴
            output += `<h4>Total = ${total}</h4>`;
            output += `<h4>maxValue = ${value}</h4>`;
            output += `<h3>${arr2.toString()}</h3>`;
            test.innerHTML = output;

            // function maxValue 생성하기 배열을 주면 그 배열에서 가장 큰 값을 알려줌
            function maxValue(arr) {
                // 배열의 맨 앞을 최대값이라 생각하고 변수에 넣어놓음. 이 변수와 배열의 두번째를 비교해서 두번째ㅐ원소가 더 크면 다시 그걸 넣음. 배열의 마지막까지 반복
                let x = arr[0];
                for(let i = 1; i < arr.length; i++) 
                    if(x < arr[i]) x = arr[i];
                return x;
            }
        </script>
    </body>
</html>